ITSM
----IT Service Management (ITSM for short) focuses on
customer needs and IT services for customers rather than on
IT systems. ITSM stresses continual improvement. 
The main idea behind ITSM is the delivery of IT as a service. 
This goes beyond traditional IT support.
-
-
-
-
Desktop support is a type of technical support where a 
technician is called to fix a desktop system, or its supporting 
hardware, software in an organization or at a designated field 
site. The desktop support technician helps in troubleshooting the 
issue to ensure that systems are maintained in line with business goals.
---
------
----
888888
888
----
--
-node{
   stage('SCM Checkout'){
     git 'https://github.com/damodaranj/my-app.git'
   }
   stage('maven-buildstage'){

      def mvnHome =  tool name: 'maven3', type: 'maven'   
      sh "${mvnHome}/bin/mvn clean package"
	  sh 'mv target/myweb*.war target/newapp.war'
   }
    stage('SonarQube Analysis') {
	        def mvnHome =  tool name: 'maven3', type: 'maven'
	        withSonarQubeEnv('sonar') { 
	          sh "${mvnHome}/bin/mvn sonar:sonar"
	        }
	    }
   stage('Build Docker Image'){
   sh 'docker build -t saidamo/myweb:0.0.2 .'
   }
   stage('Docker Image Push'){
   withCredentials([string(credentialsId: 'dockerPass', variable: 'dockerPassword')]) {
   sh "docker login -u saidamo -p ${dockerPassword}"
    }
   sh 'docker push saidamo/myweb:0.0.2'
   }
   stage('Nexus Image Push'){
   sh "docker login -u admin -p admin123 13.232.193.72:8083"
   sh "docker tag saidamo/myweb:0.0.2 13.232.193.72:8083/damo:1.0.0"
   sh 'docker push 13.232.193.72:8083/damo:1.0.0'
   }
   stage('Remove Previous Container'){
	try{
		sh 'docker rm -f tomcattest'
	}catch(error){
		//  do nothing if there is an exception
	}
   stage('Docker deployment'){
   sh 'docker run -d -p 8090:8080 --name tomcattest saidamo/myweb:0.0.2' 
   }
}
